{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../api-process.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../highlight.directive\";\n\nfunction LoginComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"div\", 28);\n    i0.ɵɵtext(2, \" Invalid email format! \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 28);\n    i0.ɵɵtext(4, \" Email is required! \");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !(ctx_r0.email == null ? null : ctx_r0.email.errors == null ? null : ctx_r0.email.errors[\"pattern\"]));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !(ctx_r0.email == null ? null : ctx_r0.email.errors == null ? null : ctx_r0.email.errors[\"required\"]));\n  }\n}\n\nfunction LoginComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"div\", 28);\n    i0.ɵɵtext(2, \" Password is required! \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 28);\n    i0.ɵɵtext(4, \" Min Length is 5 and Max Length is 30 \");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !(ctx_r1.password == null ? null : ctx_r1.password.errors == null ? null : ctx_r1.password.errors[\"required\"]));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !(ctx_r1.password == null ? null : ctx_r1.password.errors == null ? null : ctx_r1.password.errors[\"minlength\"]) && !(ctx_r1.password == null ? null : ctx_r1.password.errors == null ? null : ctx_r1.password.errors[\"maxlength\"]));\n  }\n}\n\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(router, api) {\n      this.router = router;\n      this.api = api; // email = '';\n      // password = '';\n\n      this.message = '';\n      this.db1 = [];\n      this.url = 'http://localhost:3000';\n      this.contactForm = new FormGroup({\n        email: new FormControl('', [Validators.required, Validators.pattern(\"^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\")]),\n        password: new FormControl('', [Validators.required, Validators.minLength(5), Validators.maxLength(30)])\n      });\n      this.router.navigate(['/#']);\n    }\n\n    get email() {\n      return this.contactForm.get('email');\n    }\n\n    get password() {\n      return this.contactForm.get('password');\n    }\n\n    ngOnInit() {\n      this.loadData(); // console.log(this.contactForm.get('email'))\n    }\n\n    loadData() {\n      var urlGetData = `${this.url}/users`;\n      this.api.getData(urlGetData).subscribe(data => {\n        this.db1 = data;\n      });\n    }\n\n    getCheck() {\n      console.log(this.contactForm.value);\n      let check = false;\n\n      if (check = this.db1.some((db, i) => {\n        return this.email?.value === db.email && this.password?.value === db.password;\n      })) {\n        this.message = 'Đăng nhập thành công!';\n        this.router.navigate(['']);\n      } else if (check = this.db1.some((db, i) => {\n        return this.email?.value === db.email || this.password?.value === db.password;\n      })) {\n        this.message = 'Email hoặc password của bạn không chính xác!';\n      } else {\n        this.message = 'Bạn chưa có tài khoản. Vui lòng đăng ký!';\n      } // console.log(this.email);\n      // console.log(this.password);\n      // console.log(check)\n      // console.log(this.message);\n      // this.email = '';\n      // this.password = '';\n\n    }\n\n  }\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ApiProcessService));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 49,\n    vars: 5,\n    consts: [[1, \"topbar\"], [1, \"navbar\"], [1, \"content\"], [1, \"content-top\", \"pt-5\", \"mb-5\"], [1, \"row\"], [1, \"w-full\", \"px-2.5\", \"text-3xl\", \"mb-2\"], [1, \"main-content\", \"py-7.5\"], [\"action\", \"\", 1, \"valid\"], [1, \"px-2.5\", \"pb-2\", \"text-3xl\", \"font-normal\"], [\"novalidate\", \"\", 3, \"formGroup\", \"ngSubmit\"], [1, \"px-2.5\"], [1, \"pb-5\", \"text-sm\"], [\"for\", \"email\", 1, \"cursor-pointer\", \"inline-block\"], [\"type\", \"email\", \"name\", \"email\", \"id\", \"email\", \"formControlName\", \"email\", \"appHighlight\", \"\", 1, \"valid-input\", \"block\", \"w-full\", \"p-2\", \"text-base\"], [\"style\", \"color: red;\", 4, \"ngIf\"], [\"for\", \"password\", 1, \"cursor-pointer\", \"inline-block\"], [1, \"forgot-password\"], [\"type\", \"password\", \"name\", \"password\", \"id\", \"password\", \"formControlName\", \"password\", 1, \"valid-input\", \"block\", \"w-full\", \"p-2\", \"text-base\"], [1, \"px-2.5\", \"text-center\", \"mx-auto\"], [1, \"button-submit\", \"block\", \"text-center\"], [1, \"message\", \"text-red-600\", \"text-sm\", \"italic\"], [\"type\", \"submit\", 1, \"mt-3\", \"mb-3\", 3, \"disabled\"], [\"routerLink\", \"/signup\", \"routerLinkActive\", \"active\", 1, \"signup\", \"text-sm\"], [1, \"wu-tos\", \"block\", \"pb-7\", \"text-sm\"], [1, \"policy\", \"leading-7\"], [1, \"leading-6\"], [1, \"text-center\"], [2, \"color\", \"red\"], [3, \"hidden\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"body\")(1, \"header\");\n        i0.ɵɵelement(2, \"div\", 0)(3, \"div\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"div\", 4)(7, \"h2\", 5);\n        i0.ɵɵtext(8, \"Member Account\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(9, \"div\", 6)(10, \"div\", 7)(11, \"div\", 4)(12, \"h1\", 8);\n        i0.ɵɵtext(13, \"Sign in to Weather Underground!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"form\", 9);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_14_listener() {\n          return ctx.getCheck();\n        });\n        i0.ɵɵelementStart(15, \"div\", 10)(16, \"div\", 11)(17, \"label\", 12);\n        i0.ɵɵtext(18, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"input\", 13);\n        i0.ɵɵtemplate(20, LoginComponent_div_20_Template, 5, 2, \"div\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"div\", 10)(22, \"div\", 11)(23, \"label\", 15);\n        i0.ɵɵtext(24, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"a\", 16);\n        i0.ɵɵtext(26, \"Forgot your password?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(27, \"input\", 17);\n        i0.ɵɵtemplate(28, LoginComponent_div_28_Template, 5, 2, \"div\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(29, \"div\", 18)(30, \"div\", 19)(31, \"div\", 20);\n        i0.ɵɵtext(32);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"button\", 21);\n        i0.ɵɵtext(34, \" Sign in \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(35, \"a\", 22);\n        i0.ɵɵtext(36, \"Don't have an account? Sign up\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(37, \"div\", 4)(38, \"div\", 10)(39, \"div\", 23)(40, \"a\", 24);\n        i0.ɵɵtext(41, \"Terms of Use\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"span\");\n        i0.ɵɵtext(43, \" | \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"a\", 24);\n        i0.ɵɵtext(45, \"Privacy Policy\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"p\", 25);\n        i0.ɵɵtext(47, \"Please read these terms carefully. By using Weather Underground or signing up for an account, you're agreeing to these terms.\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelement(48, \"footer\", 26);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"formGroup\", ctx.contactForm);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.email == null ? null : ctx.email.valid) && ((ctx.email == null ? null : ctx.email.dirty) || (ctx.email == null ? null : ctx.email.touched)));\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.password == null ? null : ctx.password.valid) && ((ctx.password == null ? null : ctx.password.dirty) || (ctx.password == null ? null : ctx.password.touched)));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.message);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.contactForm.valid);\n      }\n    },\n    dependencies: [i3.NgIf, i1.RouterLinkWithHref, i1.RouterLinkActive, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i5.HighlightDirective],\n    styles: [\"body[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:400;line-height:1.5;color:#1e2023;background-color:#fff;padding:0;margin:0;box-sizing:border-box}.row[_ngcontent-%COMP%]{max-width:80rem;margin-left:auto;margin-right:auto}.py-7\\\\.5[_ngcontent-%COMP%]{padding:30px 0}.topbar[_ngcontent-%COMP%]{width:100%;height:53px;background-color:#1e2023}.navbar[_ngcontent-%COMP%]{width:100%;height:39px;background-color:#fffcfc}.content-top[_ngcontent-%COMP%]{background-color:#f7f7f7;border-top:1px solid #d7d7d7;border-bottom:2px solid #d7d7d7}.content-top[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.4}.valid[_ngcontent-%COMP%]{max-width:520px;margin:0 auto 25px;line-height:1.8}.valid[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:1.4}.valid-input[_ngcontent-%COMP%]{height:34px;color:#1e2023;background:#f7f7f7;border-radius:3px;border:1px solid #a3a3a3;box-shadow:inset 0 1px 2px #1e20231a;transition:box-shadow .5s,border-color .25s ease-in-out}.valid-input[_ngcontent-%COMP%]:focus{border:1px solid #4c4c4c;box-shadow:0 0 5px #a3a3a3;outline:5px auto #15aadc!important}.forgot-password[_ngcontent-%COMP%]{color:#006f9e;float:right!important}.forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.button-submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:170px;padding:.6em 1em;color:#fff;background-color:#19aadb;font-size:.9375rem;text-align:center;line-height:1;transition:background-color .25s ease-out,color .25s ease-out;vertical-align:middle;border:1px solid transparent;border-radius:3px;border-top:3px solid transparent;border-bottom:3px solid #008fbf}.signup[_ngcontent-%COMP%]{color:#006f9e}.signup[_ngcontent-%COMP%]:hover{text-decoration:underline}.wu-tos[_ngcontent-%COMP%]{max-width:520px;margin:0 auto}.policy[_ngcontent-%COMP%]{color:#006f9e;text-decoration:underline;line-height:28px}footer[_ngcontent-%COMP%]{background-color:#1e2023;padding:30px 0}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}