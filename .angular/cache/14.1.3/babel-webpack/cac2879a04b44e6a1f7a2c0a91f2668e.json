{"ast":null,"code":"import { ElementRef } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../api-process.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../highlight.directive\";\nconst _c0 = [\"myCheck\"];\n\nfunction SignupComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38)(1, \"div\", 39);\n    i0.ɵɵtext(2, \" Invalid email format! \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 39);\n    i0.ɵɵtext(4, \" Email is required! \");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !(ctx_r0.email == null ? null : ctx_r0.email.errors == null ? null : ctx_r0.email.errors[\"pattern\"]));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !(ctx_r0.email == null ? null : ctx_r0.email.errors == null ? null : ctx_r0.email.errors[\"required\"]));\n  }\n}\n\nfunction SignupComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38)(1, \"div\", 39);\n    i0.ɵɵtext(2, \" Password is required! \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 39);\n    i0.ɵɵtext(4, \" Min Length is 5 and Max Length is 30 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 39);\n    i0.ɵɵtext(6, \" Invalid password format! \");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !(ctx_r1.password == null ? null : ctx_r1.password.errors == null ? null : ctx_r1.password.errors[\"required\"]));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !(ctx_r1.password == null ? null : ctx_r1.password.errors == null ? null : ctx_r1.password.errors[\"minlength\"]) && !(ctx_r1.password == null ? null : ctx_r1.password.errors == null ? null : ctx_r1.password.errors[\"maxlength\"]));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !(ctx_r1.password == null ? null : ctx_r1.password.errors == null ? null : ctx_r1.password.errors[\"pattern\"]));\n  }\n}\n\nexport let SignupComponent = /*#__PURE__*/(() => {\n  class SignupComponent {\n    constructor(api, router) {\n      this.api = api;\n      this.router = router;\n      this.url = 'http://localhost:3000'; // email = '';\n      // password = '';\n      // confirmPassword = '';\n\n      this.message = '';\n      this.contactForm = new FormGroup({\n        email: new FormControl('', [Validators.required, Validators.pattern(\"^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\")]),\n        password: new FormControl('', [Validators.required, Validators.minLength(5), Validators.maxLength(30), Validators.pattern(\"^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])$\")]),\n        confirmPassword: new FormControl('', [Validators.required, Validators.minLength(5), Validators.maxLength(30)])\n      });\n    }\n\n    get email() {\n      return this.contactForm.get('email');\n    }\n\n    get password() {\n      return this.contactForm.get('password');\n    }\n\n    get confirmPassword() {\n      return this.contactForm.get('confirmPassword');\n    }\n\n    ngOnInit() {}\n\n    SignUp() {\n      console.log(this.contactForm.value);\n      const newUser = {};\n      newUser.email = this.email?.value ?? undefined;\n      newUser.password = this.password?.value ?? undefined;\n      console.log(newUser);\n\n      if (this.password?.value === this.confirmPassword?.value) {\n        if (this.checkElm?.nativeElement.checked == true) {\n          this.message = 'Đăng ký thành công!';\n          this.api.addUser(newUser).subscribe(data => {\n            console.log('User Added component: ', data);\n            this.router.navigate(['login']);\n          });\n        } else {\n          this.message = 'Hãy đồng ý với các điều khoản!';\n        }\n      } else {\n        this.message = 'Đăng ký không thành công. Kiểm tra confirm password!'; //uncheck\n      } // this.email = '';\n      // this.password = '';\n      // this.confirmPassword = '';\n      // this.checkElm?.nativeElement.checked = 0;\n\n    }\n\n  }\n\n  SignupComponent.ɵfac = function SignupComponent_Factory(t) {\n    return new (t || SignupComponent)(i0.ɵɵdirectiveInject(i1.ApiProcessService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  SignupComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SignupComponent,\n    selectors: [[\"app-signup\"]],\n    viewQuery: function SignupComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5, ElementRef);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.checkElm = _t.first);\n      }\n    },\n    decls: 70,\n    vars: 5,\n    consts: [[1, \"topbar\"], [1, \"navbar\"], [1, \"content\"], [1, \"content-top\", \"pt-5\", \"mb-5\"], [1, \"row\"], [1, \"w-full\", \"px-2.5\", \"text-3xl\", \"mb-2\"], [1, \"main-content\", \"py-7.5\"], [\"action\", \"\", 1, \"valid\"], [1, \"col-space\", \"px-2.5\", \"mb-4\"], [1, \"text-3xl\", \"font-normal\", \"mb-2\"], [1, \"ml-5\", \"mb-4\", \"text-sm\", \"list-disc\"], [1, \"leading-relaxed\"], [1, \"text-sm\", \"leading-relaxed\", \"pb-4\"], [\"novalidate\", \"\", 3, \"formGroup\", \"ngSubmit\"], [1, \"px-2.5\"], [1, \"pb-5\", \"text-sm\"], [\"for\", \"email\", 1, \"cursor-pointer\", \"inline-block\"], [\"type\", \"email\", \"name\", \"email\", \"id\", \"email\", \"formControlName\", \"email\", \"appHighlight\", \"\", 1, \"valid-input\", \"block\", \"w-full\", \"p-2\", \"text-base\"], [\"style\", \"color: red;\", 4, \"ngIf\"], [\"for\", \"password\", 1, \"cursor-pointer\", \"inline-block\"], [1, \"forgot-password\"], [\"type\", \"password\", \"name\", \"password\", \"id\", \"password\", \"formControlName\", \"password\", 1, \"valid-input\", \"block\", \"w-full\", \"p-2\", \"text-base\"], [\"for\", \"confirmPassword\", 1, \"cursor-pointer\", \"inline-block\"], [\"type\", \"password\", \"name\", \"confirmPassword\", \"id\", \"confirmPassword\", \"formControlName\", \"confirmPassword\", 1, \"valid-input\", \"block\", \"w-full\", \"p-2\", \"text-base\"], [1, \"checkbox-input\", \"mt-4\", \"ml-2\", \"text-sm\"], [\"type\", \"checkbox\", \"name\", \"agree\", 1, \"inline-block\", \"w-4\", \"h-4\", \"align-top\"], [\"myCheck\", \"\"], [\"for\", \"agree\", 1, \"checkox-agree\", \"pl-1\"], [\"href\", \"https://www.wunderground.com/company/legal\", 1, \"link-agree\", \"hover:underline\"], [1, \"px-2.5\", \"text-center\", \"mx-auto\"], [1, \"button-submit\", \"block\", \"text-center\", \"mt-8\"], [1, \"message\", \"text-red-600\", \"text-sm\", \"italic\"], [\"type\", \"submit\", 1, \"mt-3\", \"mb-3\", 3, \"disabled\"], [\"routerLink\", \"/login\", \"routerLinkActive\", \"active\", 1, \"signup\", \"text-sm\"], [1, \"wu-tos\", \"block\", \"pb-7\", \"text-sm\"], [1, \"policy\", \"leading-7\"], [1, \"leading-6\"], [1, \"text-center\"], [2, \"color\", \"red\"], [3, \"hidden\"]],\n    template: function SignupComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"body\")(1, \"header\");\n        i0.ɵɵelement(2, \"div\", 0)(3, \"div\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"div\", 4)(7, \"h2\", 5);\n        i0.ɵɵtext(8, \"Member Account\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(9, \"div\", 6)(10, \"div\", 7)(11, \"div\", 4)(12, \"div\", 8)(13, \"h1\", 9);\n        i0.ɵɵtext(14, \"Join Weather Underground!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"ul\", 10)(16, \"li\", 11);\n        i0.ɵɵtext(17, \" Choose adding your personal weather station. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"li\", 11);\n        i0.ɵɵtext(19, \" You can delete your account at any time from your member settings. \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"p\", 12);\n        i0.ɵɵtext(21, \"The Weather Company needs your email to create your Weather Underground account.\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"form\", 13);\n        i0.ɵɵlistener(\"ngSubmit\", function SignupComponent_Template_form_ngSubmit_22_listener() {\n          return ctx.SignUp();\n        });\n        i0.ɵɵelementStart(23, \"div\", 14)(24, \"div\", 15)(25, \"label\", 16);\n        i0.ɵɵtext(26, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(27, \"input\", 17);\n        i0.ɵɵtemplate(28, SignupComponent_div_28_Template, 5, 2, \"div\", 18);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(29, \"div\", 14)(30, \"div\", 15)(31, \"label\", 19);\n        i0.ɵɵtext(32, \"Password (5-30 characters)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"a\", 20);\n        i0.ɵɵtext(34, \"Show\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(35, \"input\", 21);\n        i0.ɵɵtemplate(36, SignupComponent_div_36_Template, 7, 3, \"div\", 18);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"div\", 14)(38, \"div\", 15)(39, \"label\", 22);\n        i0.ɵɵtext(40, \"Confirm New Password:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(41, \"input\", 23);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(42, \"div\", 14)(43, \"div\", 24);\n        i0.ɵɵelement(44, \"input\", 25, 26);\n        i0.ɵɵelementStart(46, \"label\", 27);\n        i0.ɵɵtext(47, \" I agree to the \");\n        i0.ɵɵelementStart(48, \"a\", 28);\n        i0.ɵɵtext(49, \"Terms of Use\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(50, \"div\", 29)(51, \"div\", 30)(52, \"div\", 31);\n        i0.ɵɵtext(53);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"button\", 32);\n        i0.ɵɵtext(55, \" Sign up for free \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(56, \"a\", 33);\n        i0.ɵɵtext(57, \"Already have an account? Sign in\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(58, \"div\", 4)(59, \"div\", 14)(60, \"div\", 34)(61, \"a\", 35);\n        i0.ɵɵtext(62, \"Terms of Use\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(63, \"span\");\n        i0.ɵɵtext(64, \" | \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(65, \"a\", 35);\n        i0.ɵɵtext(66, \"Privacy Policy\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(67, \"p\", 36);\n        i0.ɵɵtext(68, \"Please read these terms carefully. By using Weather Underground or signing up for an account, you're agreeing to these terms.\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelement(69, \"footer\", 37);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(22);\n        i0.ɵɵproperty(\"formGroup\", ctx.contactForm);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.email == null ? null : ctx.email.valid) && ((ctx.email == null ? null : ctx.email.dirty) || (ctx.email == null ? null : ctx.email.touched)));\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.password == null ? null : ctx.password.valid) && ((ctx.password == null ? null : ctx.password.dirty) || (ctx.password == null ? null : ctx.password.touched)));\n        i0.ɵɵadvance(17);\n        i0.ɵɵtextInterpolate(ctx.message);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.contactForm.valid);\n      }\n    },\n    dependencies: [i3.NgIf, i2.RouterLinkWithHref, i2.RouterLinkActive, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i5.HighlightDirective],\n    styles: [\"body[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:400;line-height:1.5;color:#1e2023;background-color:#fff;padding:0;margin:0;box-sizing:border-box}.row[_ngcontent-%COMP%]{max-width:80rem;margin-left:auto;margin-right:auto}.py-7\\\\.5[_ngcontent-%COMP%]{padding:30px 0}.topbar[_ngcontent-%COMP%]{width:100%;height:53px;background-color:#1e2023}.navbar[_ngcontent-%COMP%]{width:100%;height:39px;background-color:#fffcfc}.content-top[_ngcontent-%COMP%]{background-color:#f7f7f7;border-top:1px solid #d7d7d7;border-bottom:2px solid #d7d7d7}.content-top[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.4}.valid[_ngcontent-%COMP%]{max-width:520px;margin:0 auto 25px;line-height:1.8}.valid[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:1.4}.valid-input[_ngcontent-%COMP%]{height:34px;color:#1e2023;background:#f7f7f7;border-radius:3px;border:1px solid #a3a3a3;box-shadow:inset 0 1px 2px #1e20231a;transition:box-shadow .5s,border-color .25s ease-in-out}.valid-input[_ngcontent-%COMP%]:focus{border:1px solid #4c4c4c;box-shadow:0 0 5px #a3a3a3;outline:5px auto #15aadc!important}.forgot-password[_ngcontent-%COMP%]{color:#006f9e;float:right!important}.forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.button-submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:170px;padding:.6em 1em;color:#fff;background-color:#19aadb;font-size:.9375rem;text-align:center;line-height:1;transition:background-color .25s ease-out,color .25s ease-out;vertical-align:middle;border:1px solid transparent;border-radius:3px;border-top:3px solid transparent;border-bottom:3px solid #008fbf}.signup[_ngcontent-%COMP%]{color:#006f9e}.signup[_ngcontent-%COMP%]:hover{text-decoration:underline}.wu-tos[_ngcontent-%COMP%]{max-width:520px;margin:0 auto}.policy[_ngcontent-%COMP%]{color:#006f9e;text-decoration:underline;line-height:28px}footer[_ngcontent-%COMP%]{background-color:#1e2023;padding:30px 0}\", \".checkox[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#006f9e}.checkox[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}#myCheck[_ngcontent-%COMP%]{box-shadow:0 0 4px #a3a3a3}.link-agree[_ngcontent-%COMP%]{color:#006f9e}\"]\n  });\n  return SignupComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}